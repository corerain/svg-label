{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/svg-label/img/mouse-polygon.png","webpack:///./src/svg-label/img/mouse-polyline.png","webpack:///./src/svg-label/index.vue?6b32","webpack:///./src/svg-label/img/mouse-rect.png","webpack:///./example/App.vue?3fdd","webpack:///./src/svg-label/img/mouse-point.png","webpack:///./example/App.vue?84c8","webpack:///./src/svg-label/index.vue?2c35","webpack:///./src/svg-label/util.js","webpack:///./src/svg-label/svg-label.js","webpack:///./src/svg-label/viewBox.js","webpack:///src/svg-label/index.vue","webpack:///./src/svg-label/index.vue?03ca","webpack:///./src/svg-label/index.vue?2c55","webpack:///./example/test-data.js","webpack:///example/App.vue","webpack:///./example/App.vue?7d58","webpack:///./example/App.vue?215b","webpack:///./example/main.js","webpack:///./src/svg-label/img/roi-404.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","img","initData","upload","staticRenderFns","directives","rawName","expression","imgIsLoadErr","tools","drawTools","_l","item","index","type","class","isLock","on","$event","handleDraw","text","shape","handleSelectTool","minScale","maxScale","step","formatTooltip","setScale","model","callback","$$v","scale","handleChangeBg","slot","bg","curBg","_v","_s","handleSwitchSafe","isShowSafe","_e","uploadInputChange","merge","def","opt","createSvgEl","el","document","createElementNS","style","reset","keys","styleKeys","str","setAttribute","addHandle","dom","fn","addEventListener","attachEvent","oldDomFun","removeHandle","removeEventListener","detachEvent","deepClone","source","dest","Error","Array","isArray","SvgLabel","svg","x","y","w","h","color","config","querySelector","rect","width","height","stroke","fill","mask","id","defsEl","maskEl","maskRect","rectHollowOut","appendChild","parent","rectEl","removeChild","shapeIcon","point","polyline","polygon","showMask","maskInfo","drawConfig","size","bgColor","isMouseWheel","imgOnloadCb","imgOnErr","drawEnd","points","console","log","outputData","handleResize","imgNaturalWidth","imgNaturalHeight","styleTop","styleLeft","rectMinWidth","rectMinHeight","curShape","els","isDrawEnd","isBindEvent","imgWidth","imgHeight","viewWidth","viewHeight","isLoaded","isDrag","init","url","loadStyle","renderUI","loadImg","drawData","imgModel","src","Date","onload","naturalWidth","naturalHeight","getImgSize","left","top","changeStyle","deleteMask","createSvgMask","initShape","bindEvent","onerror","offsetWidth","offsetHeight","maxWidth","maxHeight","imgScale","centralPoint","scaleNum","imgLastWidth","imgLastHeight","box","getBoundingClientRect","boxLeft","boxTop","scaleCalculationImgPos","imgCurWidth","imgCurHeight","wrapper","imgLeft","offsetLeft","imgTop","offsetTop","setStyleSize","setStylePos","uiHtml","innerHTML","createElement","className","styleStr","oncontextmenu","agent","navigator","userAgent","test","mouseScroll","wrapperMouseenter","wrapperMouseleave","wrapperMousemove","handleMousedown","handleMousemove","handleMouseup","mouseShape","icon","cursor","drawRectEnd","e","preventDefault","delta","detail","wheelDelta","clientX","clientY","charAt","toUpperCase","pageX","pageY","getImgStyleTopLeft","offsetX","offsetY","mouseDownToDraw","button","buttons","pointEl","drawPoint","submitConvertData","cleanCurShapeData","drawRect","filter","nodeName","curPolygonRepeal","polygonStartPoint","target","alert","forEach","display","classList","remove","drawPolygon","dataPoints","startClonePoint","linePoints","drawPolyline","join","JSON","stringify","removeCurShapeEls","curShapePoints","movePoints","concat","Math","abs","curShapeEl","parentNode","cx","cy","strokeWidth","getAttribute","fontSize","textLen","curWidth","floor","parseFloat","last","pop","popEl","arr","obj","drawPoints","map","svgEl","point1","point4","drawRectText","startPoint","endPoint","rectShape","textShape","drawText","clean","removeEvent","ViewBox","circleSize","parentEl","onChange","isInCircle","elWidth","elHeight","circleEl","bindEvt","initElSizePos","setSize","setPos","uiDiv","circleHtml","max","funcList","rootEl","dataset","Number","distance","wrapperMousedown","circleMousemove","wrapperMouseup","body","stopPropagation","res","isOut","func","curHeight","removeEvt","viewBox","props","String","default","Function","Boolean","defAreaConfig","areaChange","roiInstance","isLoading","safeMaskInfo","isShowViewArea","isFirstLoadImg","bgList","mounted","initRoi","methods","handleDrawEnd","white","black","roiImg","command","add","initAreaViewBox","viewAreaBoxDispose","dispose","eventType","instance","setType","setDrawShape","shapeInfo","handleDrag","handleShrink","handleMagnify","setImgSize","handleUpload","uploadInput","click","switchBgImg","handleSwitchImg","$nextTick","handleClean","handleRepeal","repeal","val","isSafe","getData","handleArea","areaViewBoxChange","isEdit","getViewAreaInfo","info","getElPos","beforeDestroy","watch","handler","immediate","component","components","Vue","productionTip","use","ElementUI","render","App","$mount"],"mappings":"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","file":"js/app.e833e45e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"e35a\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC6ElEQVRIS6WUXUiTYRTHz2mrCeKSimbixS5sTARR30SdF34NoqV0kSA1I1bbTcFmmwSauHTUrvaikYFsUwJLBoEwXCMmQhBKnwMvHA4vvBjyEiK0NUSpnXjGu9Bw0F4PPDfvx/93zv885yAcM4ioBAAmRZn7iJg6KInH0SeiS8lkcm50dLSS6Tidzg2lUnkDEb/kdCUBiIj951hdXX3S399/SqfTZfWWl5dhfHx8v6am5hEAeBAx+2FBQUQqInrp8/kue71eGBkZSXV1dd1jIgsLCy/GxsZKLBYLmM3md4h4WwpgwuVyWaPRKPA8/1mtVt9ExA0GIKLKzc3N13a7vaG+vh6Gh4efSQF0zs7OLjKAx+O5iohvD1pARAaHwxGqq6uDvr4+vRSAXBAEwWAwnF1ZWfEVFRVZDgJ2d3e9Op3OHA6Ht1Uq1YWCAaIV/t7e3jsWi2Vbr9eXIeJv8bksEokIPp/vXCAQmEbEu1IBhpmZmVA8Hge32/0KAHbEKs4MDg4aNRoNmEymrH1SAacSicT3jo6O0wqF4tAt3Nvbg6WlpR8VFRXnEXFfEkC0YyKdTl8hokMARITi4uIwItrYi4IBRKQFgC1ETP7PABUEYKshnU5/lMvlvxQKxQcACLGDiOv5YIUCLgqCENfr9dDc3Azt7e3Q1tYG5eXlbNCyMAB4z7yXvIuIaL27u1uztrb2N2mtVpuFsVNbW/tTJpNFRNhcQRWIzeV5nn8wOZnb0IfNKS0thdbWVrBaraBWq59KAXRGo9HFnp6eI21vaWkBm80GHMfFAOCWFMDJTCaz3djYqNzZyc0XQFNTE9jt9pywCwACiJgpGCDa9GZgYOD6/Px8tgpmid/vTyDiw5yw5CaLAFMoFJpmPrMIBoNQXV19DRGD//omtQJVKpXa4jjuBLs5U1NT3xCRO6opkgBiFZ+MRmPD0NBQ3uwlrYpclkTkjMVij6uqqvJmf1xAGQC4AeA5In7Ntyr+AFzCOcRxpY93AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB5ElEQVRIS62UPahSYRjH//803MKhKBxCgkJxEU5xFAeV6yoNuUlDxB39SKTBpSCoTQRzkLA1gguC4FQQQWAG5abciIaIi9DFxVwifOKV4+0Snts9r+eBZzjD+/s9H+95CZdDRAjgPMkfCq0+XAsL/gxAWiXJb64J1vDhcHh3MBigXC5/BRBzRXAcXigU0Gw2YZpmB8Du1oIT4eRqIdrxP/hWSz4NXFtwWriWwAlcV3ABwPtGo3ElHo//vS2kbFqm1pJF5DKAN1bu0gau20EIwAEAH4DDk+COBSJyfbFYDL1e72+fz/cOQF8lyX27u+5oRCJydTqdfs5kMlDzT6fTSKVSCAQCX9YyAG9J/loLHQnUIRHZz2az18bj8VHRoVBoJVMZjUZ/ejyeV5bwhY6gXq/X77VarY1T8fv9SCaTKBaLCAaDj3UEO6PR6HUul9soSCQSKJVKMAxjAuC2juDscrk8NE3z3Gw2O5LEYjFUKpU1+BGAlySXjgXWHvaq1eqtbre7EqiRdDqd7yTvr8HaS7YEd/r9/nM1ZxW9Xg+RSOQmyd6/c9Pt4OJ8Pj8wDOOMujntdvsTScO1p8Lq4kM+n79Rq9Vsq3f8Jx+vUEQeTCaTh+Fw2Lb6bQWXADwB8JTkR7un4g/UIPPiAxLdpAAAAABJRU5ErkJggg==\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABpUlEQVRIS+2UsUsCURzHv7803MKtcBKkOHERrlBxUMlVGnKThv4BJZEGl4KgtptycLA1gkA4uMmWoKWg3DyM3EIcwiFzibgXz+4kykPvroagH7zp/d7v8/193+89go1gjLFZj9GsiZ/zOCAQCEw92ul04AjAC5gFF/AjACL6JtLo8B/w4fGft+hXp2jaQ3A0RdOKG/uWHxpjTADQJaLnWSCWAIyx1eFweO12u988Hs8VAIUvImqbwawClnu93n06nUYsFkMqlUIymYTP53swYAAuiejViUXtTCaz0mq1xqIFQRjB+AqHwy8ul6uhA08tdcArMsYkSZJ2KpXKRFe8Xi8SiQTy+Tz8fv+hHcB6s9m8yGazEwHxeByFQgGiKKoAtuwA5jVNe4pEIgv9fn8MiUajKBaLRuEDAGdEpFkG6Dadl0qlzXq9PgJwS2q12iMR7RqFbV+yDthWFOWE+8xDlmWEQqENIpK/+ma3g8XBYNAVRXGOT061Wr0jInHSpdgC6F3c5HK5tXK5bKqe5zkB7Kmquh8MBk3VOwUsATgCcExEt2ZfxTstRPimxnbipQAAAABJRU5ErkJggg==\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACG0lEQVRIS82VP6hSYRjGnzcNp3t1K5xEKBRBhXNDRfDPzTFpSFCRhpzEQUkODTYURLdFnFJ00FWFQLCciiLJoahEB+VGnCkuDiF4zSXCLz45XigU8lyEPviWMzy/933e53sPYceHzqPPGLsBIAPgQNb5CCBPRC9WuooBjLHHkiRlc7kcut3uUs/tdkMURRiNxiMius+/KQLwyiVJeh6JRBCPxxGNRpeAWq2GarWKer3OIUHeiVLA62Qy6bdarUgkEn+4XCqVMBgMUCwW3xDRoVLAqc1m2+t0OtBqtQiHw0tIo9HAdDqFx+NBv9+fEdH+fwvYuUW7HTL3e6cxXcVmJw+NMWYCcEJEp/+yBbZKEWPsYD6fv1er1b80Gs07AG1+ieh4E2xbwJXxePwlEAjA5XLB7/fD5/NBr9d/XcEAvCWin4p3EWPsOBgMXh0Oh2dFm0ymJYxfu93+Q6VSvZSBta06kNOTz+fzdwuFwlpXdDodvF4vUqkUDAbDkRLA9V6v9yoUCq0F8I2aTqchCMIIwG0lgIuLxeK7w+HYn0wmZxCn04lMJrMSfsRXExEttgbINj0TRfFWs9lcArgllUrlGxHdWwkrHrIMuNNut6vcZ35arRYsFstNImr97ZvSDi7NZrMTQRAu8OSUy+XPRCSsG4oigNzFh1gsdi2bzW6sXvEvUwY8GI1GD81m88bqzwu4DOAJgKdE9GnTqvgNsA0Q4YZW24oAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"test-demo-page\"},[_c('div',{staticClass:\"test-demo-page-content\"},[_c('SvgLabel',{attrs:{\"img\":_vm.img,\"is-lock\":false,\"init-data\":_vm.initData,\"upload\":_vm.upload}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"roi-container bsizing\"},[(_vm.img && !_vm.imgIsLoadErr)?_c('div',{staticClass:\"has-img\"},[(_vm.tools.length && _vm.drawTools.length)?_c('header',{staticClass:\"header flex-v-c bsizing\"},[_vm._l((_vm.drawTools),function(item,index){return _c('div',{key:item.type,class:[\n          'draw-shape tool-item bsizing',\n          'draw-shape-' + item.type,\n          index === _vm.drawTools.length - 1 ? 'draw-shape-last' : '',\n          _vm.isLock ? 'disabled' : ''\n        ],on:{\"click\":function($event){return _vm.handleDraw(item.type)}}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":item.text,\"placement\":\"top\"}},[_c('div',{class:[\n              'tool-item-wrapper flex-v-c bsizing',\n              item.type === _vm.shape ? 'active' : ''\n            ]},[_c('div',{class:[\n                'tool-icon',\n                'tool-item-' + item.type + '-icon'\n              ]})])])],1)}),_vm._l((_vm.tools),function(item){return _c('div',{key:item.type,class:[\n          'operate-tool-item tool-item bsizing',\n          'tool-item-' + item.type ],on:{\"click\":function($event){return _vm.handleSelectTool(item.type)}}},[(item.type === 'progressBar')?_c('el-slider',{attrs:{\"min\":_vm.minScale,\"max\":_vm.maxScale,\"step\":_vm.step,\"format-tooltip\":_vm.formatTooltip},on:{\"change\":_vm.setScale},model:{value:(_vm.scale),callback:function ($$v) {_vm.scale=$$v},expression:\"scale\"}}):(item.type === 'changeBg')?_c('div',{staticClass:\"flex-v-c\"},[_c('el-dropdown',{attrs:{\"placement\":\"bottom\"},on:{\"command\":_vm.handleChangeBg}},[_c('div',{staticClass:\"tool-item-bg tool-item-wrapper\"},[_c('div',{class:['tool-icon', 'tool-item-' + item.type + '-icon']})]),_c('el-dropdown-menu',{staticClass:\"cus-dropdown-menu-drop\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.bgList),function(bg){return _c('el-dropdown-item',{key:bg.type,class:[_vm.curBg === bg.type ? 'active' : ''],attrs:{\"command\":bg.type}},[_c('div',{staticClass:\"bg-text\"},[_vm._v(_vm._s(bg.name))]),_c('div',{class:['bg-icon', (\"bg-icon-\" + (bg.type))]})])}),1)],1)],1):(item.type === 'safe')?_c('div',{staticClass:\"safe flex-v-c\"},[_vm._v(\" \"+_vm._s(item.text)+\" \"),_c('el-switch',{attrs:{\"size\":\"small\",\"width\":30,\"active-color\":\"#1872f0\",\"inactive-color\":\"rgba(27, 53, 89, 0.25)\"},on:{\"change\":_vm.handleSwitchSafe},model:{value:(_vm.isShowSafe),callback:function ($$v) {_vm.isShowSafe=$$v},expression:\"isShowSafe\"}})],1):(item.type === 'area')?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":item.text,\"placement\":\"top\"}},[_c('div',{staticClass:\"tool-item-area tool-item-wrapper\"},[_c('div',{class:['tool-icon', 'tool-item-' + item.type + '-icon']})])]):_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":item.text,\"placement\":\"top\"}},[_c('div',{class:['tool-item-wrapper flex-v-c bsizing', item.type === _vm.mode ? 'active' : '']},[_c('div',{class:['tool-icon', 'tool-item-' + item.type + '-icon']})])])],1)})],2):_vm._e(),_c('div',{staticClass:\"roi-img bsizing\"})]):_vm._e(),(_vm.imgIsLoadErr)?_c('div',{staticClass:\"img-load-err\"},[_c('img',{attrs:{\"src\":require(\"./img/roi-404.png\")}})]):_vm._e(),_c('input',{staticClass:\"none upload-input\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.uploadInputChange}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const merge = function(def, opt) {\n  for(let key in opt) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (opt.hasOwnProperty(key)) {\n      def[key] = opt[key]\n    }\n  }\n\n  return def\n}\n\n//  xml\nexport const createSvgEl = (name, attrs) => {\n  let ns = 'http://www.w3.org/2000/svg'\n  let el = document.createElementNS(ns, name)\n  const { style = {}, ...reset } = attrs\n  const keys = Object.keys(reset)\n  const styleKeys = Object.keys(style)\n  \n  if (styleKeys.length) {\n    let str = ''\n    for(const key of styleKeys) {\n      const value = style[key]\n\n      if (value) {\n        str += `${key}:${value};`\n      }\n    }\n\n    el.setAttribute('style', str)\n  }\n\n  for(const key of keys) {\n    const value = reset[key]\n    \n    if (value) {\n      el.setAttribute(key, value)\n    }\n  }\n\n  return el\n}\n\n//  \nexport const addHandle = (dom, type, fn) => {\n  if (!dom) {\n    return\n  }\n\n  if (document.addEventListener) {\n    dom.addEventListener(type, fn, false)\n  } else if (document.attachEvent) {\n    dom.attachEvent('on' + type, fn)\n  } else {\n    let oldDomFun = dom['on' + type]\n    dom['on' + type] = function() {\n      oldDomFun()\n      fn && fn()\n    }\n  }\n}\n\n//  \nexport const removeHandle = (dom, type, fn) => {\n  if (!dom) {\n    return\n  }\n  \n  if (document.removeEventListener) {\n    dom.removeEventListener(type, fn)\n  } else if (document.detachEvent) {\n    dom.detachEvent('on' + type, fn)\n  } else {\n    dom['on' + type] = null\n  }\n}\n\nexport const deepClone = (source, dest) => {\n  if (!source && typeof source !== 'object') {\n    throw new Error('error arguments', 'shallowClone')\n  }\n  dest = dest || (Array.isArray(source) ? [] : {})\n  for (const key in source) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (source.hasOwnProperty(key)) {\n      if (source[key] && typeof source[key] === 'object') {\n        dest[key] = Array.isArray(source[key]) ? [] : {}\n        deepClone(source[key], dest[key])\n      } else {\n        dest[key] = source[key]\n      }\n    }\n  }\n  return dest\n}","import { merge, createSvgEl, addHandle, removeHandle, deepClone } from './util'\n\nclass SvgLabel {\n  constructor(opt) {\n    this.config = {\n      el: document.querySelector('.lbi-paint-container'), // dom\n      shape: 'polygon', // \n      shapeIcon: {\n        point: '',\n        polyline: '',\n        rect: '',\n        polygon: ''\n      },  // icon\n      showMask: false,  // \n      maskInfo: {\n        x: 0.25,\n        y: 0.25,\n        w: 0.25,\n        h: 0.25,\n        color: 'rgba(248, 47, 7, 0.3)'\n      },  // \n      initData: [], // \n      drawConfig: {\n        point: {\n          color: '#FF1717',\n          size: 4\n        },\n        polyline: {\n          color: '#FF1717',\n          size: 2\n        },\n        rect: {\n          color: '#FF1717',\n          size: 2,\n          bgColor: 'none'\n        },\n        polygon: {\n          color: '#FF1717',\n          size: 2,\n          bgColor: 'rgba(255, 23, 23, 0.3)'\n        },\n        text: {\n          color: '#FFFFFF',\n          size: 12,\n          bgColor: '#FF1717',\n          h: 20\n        }\n      },      // \n      w: 880, // \n      h: 550, // \n      type: 'draw',      //    draw --   drag\n      isLock: false,     // \n      isMouseWheel: true, // \n      minScale: 0.5,  // \n      maxScale: 5,  // \n      imgOnloadCb: () => {},  // \n      imgOnErr: () => {}, // \n      drawEnd: (type, points) => {\n        console.log('drawEnd ' + type + '', points, 'output data', this.outputData)\n      },\n      handleResize: () => {}  // resize\n    }\n\n    this.config = merge(this.config, opt)\n\n    this.x = 0\n\t\tthis.y = 0\n    this.imgNaturalWidth = 0\n    this.imgNaturalHeight = 0\n    this.styleTop = 0\n    this.styleLeft = 0\n    this.rectMinWidth = 4   //   \n    this.rectMinHeight = 4   //   \n    this.curShape = {\n      shape: '',\n      els: [],\n      points: []\n    }    //  \n    this.isDrawEnd = true   //  \n    this.scale = 1                    //  \n    this.isBindEvent = false          //  \n\t\tthis.imgWidth = 0                 //  \n\t\tthis.imgHeight = 0                //  \n    this.viewWidth = 0                //   \n    this.viewHeight = 0               //   \n    this.isLoaded = false             //  \n    this.isDrag = false               //  \n    this.outputData = [] // \n\n    this.init()\n  }\n\n  init() {\n    let url = this.config.url\n\n    if (!url) return\n\n    this.loadStyle()\n    this.renderUI()\n\n    this.loadImg(this.config.url)\n  }\n\n  loadImg(url, drawData) {\n    const { el, w, h, imgOnloadCb, imgModel, showMask, maskInfo } = this.config\n    let img = el.querySelector('.lbi-img')\n    let svg = el.querySelector('.svg-painter')\n    this.isLoaded = false\n\n    img.src = url + '?' + (+new Date())\n\n    img.onload = () => {\n      let imgWidth = img.naturalWidth\n      let imgHeight = img.naturalHeight\n      this.imgNaturalWidth = imgWidth\n      this.imgNaturalHeight = imgHeight\n\n      let { width, height } = this.getImgSize(w, h, imgWidth, imgHeight, imgModel)\n      this.viewWidth = width\n      this.viewHeight = height\n      let left = (w - width) * 0.5\n      let top = (h - height) * 0.5\n      \n      svg.setAttribute('viewBox', '0, 0, ' + width + ', ' + height)\n      this.changeStyle(width, height, top, left)\n\n      //  \n      if (showMask) {\n        this.deleteMask(svg)\n        this.createSvgMask(svg, maskInfo.x, maskInfo.y, maskInfo.w, maskInfo.h, maskInfo.color)\n      }\n\n      // \n      imgOnloadCb && imgOnloadCb(width, height)\n      this.isLoaded = true\n\n      //  \n      drawData = drawData || this.config.initData\n      this.initShape(svg, drawData, width, height)\n      this.config.initData = []\n\n      if (this.isBindEvent || this.config.isLock) return\n\n      this.bindEvent()\n    }\n\n    img.onerror = () => {\n      const { imgOnErr } = this.config\n      imgOnErr && imgOnErr()\n    }\n  }\n\n  //  window resize \n  resize() {\n    const { el, handleResize } = this.config\n    this.scale = 1\n\n    let w = el.offsetWidth\n    let h = el.offsetHeight\n\n    let imgWidth = this.imgNaturalWidth\n    let imgHeight = this.imgNaturalHeight\n\n    let { width, height } = this.getImgSize(w, h, imgWidth, imgHeight)\n    this.viewWidth = width\n    this.viewHeight = height\n    let left = (w - width) / 2\n    let top = (h - height) / 2\n    \n    this.changeStyle(width, height, top, left)\n    handleResize && handleResize()\n  }\n\n  //  \n  createSvgMask = (svg, x, y, w, h, color = 'rgba(248, 47, 7, 0.3)') => {\n    const { el } =  this.config\n    svg = svg || el.querySelector('.svg-painter')\n\n    let rect = createSvgEl('rect', {\n      x: 0,\n      y: 0,\n      width: '100%',\n      height: '100%',\n      stroke: 'none',\n      fill: color,\n      mask: 'url(#svgMask)'\n    })\n\n    rect.id = 'rect-mask'\n  \n    let defsEl = createSvgEl('defs', {})\n    defsEl.id = 'defs-mask'\n    let maskEl = createSvgEl('mask', {\n      id: 'svgMask'\n    })\n    let maskRect = createSvgEl('rect', {\n      x: 0,\n      y: 0,\n      width: '100%',\n      height: '100%',\n      stroke: 'none',\n      fill: '#fff'\n    })\n    let rectHollowOut = createSvgEl('rect', {\n      x: x * 100 + '%',\n      y: y * 100 + '%',\n      width: w * 100 + '%',\n      height: h * 100 + '%',\n      fill: 'red'\n    })\n  \n    maskEl.appendChild(maskRect)\n    maskEl.appendChild(rectHollowOut)\n  \n    svg.appendChild(rect)\n    defsEl.appendChild(maskEl)\n    svg.appendChild(defsEl)\n  }\n\n  //  \n  deleteMask = (parent) => {\n    const { el } =  this.config\n    parent = parent || el.querySelector('.svg-painter')\n\n    let rectEl = parent.querySelector('#rect-mask')\n    let defsEl = parent.querySelector('#defs-mask')\n\n    rectEl && parent.removeChild(rectEl)\n    defsEl && parent.removeChild(defsEl)\n  }\n\n  getImgSize(maxWidth, maxHeight, imgWidth, imgHeight, type) {\n    let scale = maxWidth / maxHeight\n    let imgScale = imgWidth / imgHeight\n    let width\n    let height\n    \n    if (type !== 'cover') {\n      if (imgScale >= scale) {\n        width = maxWidth\n        height = width * (imgHeight / imgWidth)\n      }\n      else {\n        height = maxHeight\n        width = height * imgScale\n      }\n    }\n    else {\n      if (imgScale >= scale) {\n        height = maxHeight\n        width = height * imgScale\n      }\n      else {\n        width = maxWidth\n        height = width * (imgHeight / imgWidth)\n      }\n    }\n\n    return {\n      width,\n      height\n    }\n  }\n\n  //   \n  setScale(scale, centralPoint) {\n    if (this.config.isLock) return\n    \n    const { el } =  this.config\n    let scaleNum = scale / this.scale\n    let imgLastWidth = this.imgWidth\n    let imgLastHeight = this.imgHeight\n    let w = this.imgWidth * scaleNum\n    let h = this.imgHeight * scaleNum\n    \n    let box = el.getBoundingClientRect()\n    let boxLeft = box.left\n    let boxTop = box.top\n\n    centralPoint = centralPoint || {\n      x: boxLeft + this.config.w / 2,\n      y: boxTop + this.config.h / 2\n    }\n    \n\n    let { top, left } = this.scaleCalculationImgPos(centralPoint, w, h, imgLastWidth, imgLastHeight)\n\n    this.changeStyle(w, h, top, left)\n    this.scale = scale\n  }\n\n  //  \n  scaleCalculationImgPos(centralPoint, imgCurWidth, imgCurHeight, imgLastWidth, imgLastHeight) {\n    const { el} = this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n\n    let { x, y } = centralPoint\n\n    let left = 0\n    let top = 0\n    let box = el.getBoundingClientRect()\n    let boxLeft = box.left\n    let boxTop = box.top\n\n    left = x - boxLeft\n    top = y - boxTop\n    let imgLeft = left - wrapper.offsetLeft\n    let imgTop = top - wrapper.offsetTop\n\n    left = left - imgCurWidth * (imgLeft / imgLastWidth)\n    top = top - imgCurHeight * (imgTop / imgLastHeight)\n\n    return {top , left}\n  }\n\n  //   / svg\n  changeStyle(w, h, top, left) {\n    this.setStyleSize(w, h)\n    this.setStylePos(top, left)\n    this.imgWidth = w\n    this.imgHeight = h\n  }\n\n  //  /svg\n  setStyleSize(w, h) {\n    const { el } =  this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n\n    wrapper.style.width = w + 'px'\n    wrapper.style.height = h + 'px'\n  }\n\n  //  /svg top left\n  setStylePos(top, left) {\n    const { el } =  this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n\n    wrapper.style.top = top + 'px'\n    wrapper.style.left = left + 'px'\n  }\n\n  renderUI() {\n    let uiHtml = `\n      <div class=\"lbi-paint-box\">\n        <div class=\"svg-painter-box\">\n          <div class=\"svg-painter-box-wrapper\">\n            <img src=\"\" alt=\"\" class=\"lbi-img\" />\n            <svg class=\"svg-painter\"></svg>\n          </div>\n        </div>\n      </div>\n    `\n\n    this.config.el.innerHTML = uiHtml\n  }\n\n  loadStyle() {\n    let style = document.querySelector('.label-svg-style')\n\n    if (!style) {\n      style = document.createElement('style')\n      style.className = 'label-svg-style'\n\n      let styleStr = `\n        .lbi-paint-box, .svg-painter-box {\n          width: 100%;\n          height: 100%;\n          position: relative;\n        }\n        .svg-painter-box-wrapper {\n          position: absolute;\n        }\n        .lbi-img {\n          width: 100%;\n          height: 100%;\n        }\n        .svg-painter {\n          position: absolute;\n          top: 0;\n          left: 0;\n        }\n         .lbi-img {\n           box-shadow: 2px 2px 5px 0 rgb(0 0 0 / 75%);\n         }\n        .svg-painter {\n          z-index: 5;\n        }\n      `\n\n      style.innerHTML = styleStr\n\n      document.querySelector('head').appendChild(style)\n    }\n  }\n\n  //    draw-- drag--\n  setType(type) {\n    this.config.type = type\n  }\n\n  //  \n  setDrawShape(shape) {\n    this.config.shape = shape\n  }\n\n  //  \n  bindEvent() {\n    let { el, isMouseWheel } = this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n\n    //  \n    document.oncontextmenu = function() { return false }\n\n    //  \n    let agent = navigator.userAgent\n    //   \n    if (/.*Firefox.*/.test(agent)) { \n      isMouseWheel && addHandle(el, 'DOMMouseScroll', this.mouseScroll.bind(this))\n    }\n    //  \n    else {\n      isMouseWheel && addHandle(el, 'mousewheel', this.mouseScroll.bind(this))\n    }\n    \n    addHandle(el, 'mouseover', this.wrapperMouseenter.bind(this))\n    addHandle(el, 'mouseleave', this.wrapperMouseleave.bind(this))\n    addHandle(el, 'mousemove', this.wrapperMousemove.bind(this))\n    \n    addHandle(wrapper, 'mousedown', this.handleMousedown.bind(this))\n    addHandle(wrapper, 'mousemove', this.handleMousemove.bind(this))\n    addHandle(wrapper, 'mouseup', this.handleMouseup.bind(this))\n\n    this.isBindEvent = true\n  }\n\n  wrapperContextmenu() {\n    return false\n  }\n\n  //  \n  removeEvent() {\n    let { el } = this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n   \n    //  \n    document.oncontextmenu = null\n    //  \n    removeHandle(el, 'DOMMouseScroll', this.mouseScroll)\n    removeHandle(el, 'mousewheel', this.mouseScroll)\n\n    removeHandle(el, 'mouseover', this.wrapperMouseenter)\n    removeHandle(el, 'mouseleave', this.wrapperMouseleave)\n    removeHandle(el, 'mousemove', this.wrapperMousemove)\n\n    removeHandle(wrapper, 'mousedown', this.handleMousedown)\n    removeHandle(wrapper, 'mousemove', this.handleMousemove)\n    removeHandle(wrapper, 'mouseup', this.handleMouseup)\n  }\n\n  wrapperMouseenter() {\n    let { el, type, shapeIcon, shape } = this.config\n\n    //  \n    let mouseShape = 'crosshair'\n\n    //  \n    if (type === 'drag') {\n      mouseShape = 'move'\n    }\n    else {\n      let icon = shapeIcon[shape]\n      mouseShape = `url(${icon || 'crosshair'}) 12 12, auto`\n    }\n\n    el.style.cursor = mouseShape\n  }\n\n  wrapperMouseleave() {\n    let { el, shape } = this.config\n\n    el.style.cursor = 'auto'\n    this.isDrag = false\n\n    switch(shape) {\n      case 'point':\n        break;\n      case 'rect':\n        //  \n        this.drawRectEnd()\n        \n        break;\n\n      case 'polyline':\n      case 'polygon':\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  mouseScroll(e) {\n    e.preventDefault()\n\n    const { minScale, maxScale, setScale } = this.config\n    let scale = this.scale\n    //   e.detail   e.wheelDelta\n    let delta = e.detail ? e.detail > 0 : e.wheelDelta < 0\n\n    if (!delta) {\n      scale += 0.1\n\n      if (scale >= maxScale) {\n        scale = maxScale\n      }\n    }\n    else {\n      scale -= 0.1\n\n      if ( scale <= minScale) {\n        scale = minScale\n      }\n    }\n\n    let x = e.clientX\n    let y = e.clientY\n    \n    setScale(scale)\n    this.setScale(scale, {\n      x,\n      y\n    })\n\n    return false\n  }\n\n  wrapperMousemove() {\n    if (this.config.type === 'drag') return\n  }\n\n  //  \n  handleMousedown(e) {\n    let type = this.config.type\n    type = type.charAt(0).toUpperCase() + type.slice(1)\n    \n    this['handleMousedown' + type](e)\n  }\n\n  //  \n  handleMousemove(e) {\n    let type = this.config.type\n    type = type.charAt(0).toUpperCase() + type.slice(1)\n\n    this['handleMousemove' + type](e)\n  }\n  //  \n  handleMouseup(e) {\n    let type = this.config.type\n    type = type.charAt(0).toUpperCase() + type.slice(1)\n    this['handleMouseup' + type](e)\n  }\n\n  //  --\n  handleMousedownDrag(e) {\n    let x = e.pageX\n    let y = e.pageY\n\n    this.x = x\n    this.y = y\n    this.isDrag = true\n\n    const { styleTop, styleLeft } = this.getImgStyleTopLeft()\n\n    this.styleTop = styleTop\n    this.styleLeft = styleLeft\n  }\n  //  --\n  handleMousemoveDrag(e) {\n    if (!this.isDrag) return\n    \n    let x = e.pageX\n    let y = e.pageY\n    let top = this.styleTop + y - this.y\n    let left = this.styleLeft + x - this.x\n\n    //    \n    // const { w, h } = this.config\n    // let imgWidth = this.imgWidth\n    // let imgHeight = this.imgHeight\n    // let maxLeft = w - imgWidth\n    // let maxTop = h - imgHeight\n    // left = left > 0 ? 0 : (left < maxLeft ? maxLeft : left)\n    // top = top > 0 ? 0 : (top < maxTop ? maxTop : top)\n\n    //  console.log('handleMousemoveDrag', top, left)\n    this.setStylePos(top, left)\n  }\n  //  --\n  handleMouseupDrag() {\n    this.isDrag = false\n  }\n\n  //  --\n  handleMousedownDraw(e) {\n    let scale = 1 / this.scale\n    \n    this.x = e.offsetX * scale\n    this.y = e.offsetY * scale\n\n    this.mouseDownToDraw(e)\n  }\n  // -- \n  mouseDownToDraw(e) {\n    const { shape, el, drawEnd } = this.config\n    let svg = el.querySelector('.svg-painter')\n    let button = e.buttons\n    let pointEl = null\n    let points = [this.x, this.y]\n    //  \n    let polyline = el.querySelector('.cur-polyline-active');\n    \n    switch(shape) {\n      case 'point':\n        //  \n        if (button === 2) return\n\n        this.isDrawEnd = false\n\n        pointEl = this.drawPoint(svg, points)\n        var item = {\n          els: [pointEl],\n          shape: 'point',\n          points: this.submitConvertData([points])\n        }\n\n        this.outputData.push(item)\n        drawEnd && drawEnd('point', item)\n\n        this.isDrawEnd = true\n        this.cleanCurShapeData()\n\t\t\t\tbreak;\n\n\t\t\tcase 'rect':\n        //  \n        if (button === 2) return\n\n        this.isDrawEnd = false\n\t\t\t\t\n        var rect = this.drawRect(svg, {\n          x: this.x,\n          y: this.y,\n          width: 0,\n          height: 0\n        })\n\n        this.curShape.els = [rect]\n        this.curShape.shape = 'rect'\n\t\t\t\tbreak;\n\n\t\t\tcase 'polygon':\n        //  \n        if (button === 2) {\n          //  this.curPolygonRepeal()\n          let els = this.curShape.els.filter(item => item.nodeName !== 'polyline')\n          let points = this.curShape.points\n          this.curShape = {\n            ...this.curShape,\n            ...this.curPolygonRepeal(els, points, polyline)\n          }\n        }\n\n        //  \n        if (button === 1) {\n          this.isDrawEnd = false\n          //  \n          let polygonStartPoint = el.querySelector('.polygon-active-start-point')\n\n          //    \n          if (e.target === polygonStartPoint) {\n            let curShape = this.curShape\n            let points = curShape.points\n\n            //   \n            if (points.length < 3) {\n              alert('3')\n            }\n            //  \n            else {\n              curShape.els.forEach(el => {\n                if (el.nodeName === 'circle') {\n                  el.style.display = 'none'\n                }\n              })\n              curShape.els = curShape.els.filter(item => item.nodeName !== 'polyline')\n              svg.removeChild(polyline)\n              polygonStartPoint.classList.remove('polygon-active-start-point')\n              \n              //  \n              let polygon = this.drawPolygon(svg, points)\n              \n              curShape.els.push(polygon)\n              \n              //  \n              let dataPoints = this.submitConvertData(points)\n              curShape = {\n                ...curShape,\n                points: dataPoints\n              }\n              this.outputData.push(curShape)\n              drawEnd && drawEnd('polygon', curShape)\n\n              this.isDrawEnd = true\n              this.cleanCurShapeData()\n            }\n          }\n          //  \n          else {\n            //  \n            if (!polygonStartPoint) {\n              pointEl = this.drawPoint(svg, points, {\n                class: ' polygon-active-start-point'\n              })\n            }\n            //  \n            else {\n              pointEl = this.drawPoint(svg, points)\n              let startClonePoint = polygonStartPoint\n\n              //  \n              svg.removeChild(polygonStartPoint)\n              svg.appendChild(startClonePoint)\n            }\n\n            this.curShape.els.push(pointEl)\n            this.curShape.shape = 'polygon'\n            this.curShape.points.push(points)\n\n            let linePoints = this.curShape.points\n            \n            //   \n            if (!polyline) {\n              polyline = this.drawPolyline(svg, linePoints, {\n                class: 'cur-polyline-active'\n              })\n              this.curShape.els.push(polyline)\n              return\n            }\n            \n            polyline.setAttribute('points', linePoints.join(' '))\n            polyline.setAttribute('data-position', JSON.stringify(linePoints))\n          }\n        }\n        \n\t\t\t\tbreak;\n\n\t\t\tcase 'polyline':\n        //  \n        if (button === 1) {\n          this.isDrawEnd = false\n          pointEl = this.drawPoint(svg, points)\n          this.curShape.els.push(pointEl)\n          this.curShape.shape = 'polyline'\n          this.curShape.points.push(points)\n\n          let linePoints = this.curShape.points\n          \n          if (!polyline) {\n            polyline = this.drawPolyline(svg, linePoints, {\n              class: 'cur-polyline-active'\n            })\n            this.curShape.els.push(polyline)\n\n            return\n          }\n\n          polyline.setAttribute('points', linePoints.join(' '))\n          polyline.setAttribute('data-position', JSON.stringify(linePoints))\n        }\n\n        //  \n        if (button === 2) {\n          let curShape = this.curShape\n          let points = curShape.points\n\n          //   \n          if (points.length < 2) {\n            this.removeCurShapeEls()\n          }\n          else {\n            curShape.els.forEach(el => {\n              if (el.nodeName === 'circle') {\n                el.style.display = 'none'\n              }\n            })\n            polyline.setAttribute('points', points.join(' '))\n            polyline.classList.remove('cur-polyline-active')\n            \n            let dataPoints = this.submitConvertData(points)\n            curShape = {\n              ...curShape,\n              points: dataPoints\n            }\n            this.outputData.push(curShape)\n            drawEnd && drawEnd('polyline', curShape)\n          }\n\n          this.isDrawEnd = true\n          this.cleanCurShapeData()\n        }\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n    }\n  }\n  //  --\n  handleMousemoveDraw(e) {\n    if (this.isDrawEnd) return\n\n    const { shape, el } = this.config\n    let scale = 1 / this.scale\n    let offsetX = e.offsetX * scale\n    let offsetY = e.offsetY * scale\n    let x = 0\n    let y = 0\n    let curShapePoints = this.curShape.points\n    let movePoints = curShapePoints.concat([offsetX, offsetY])\n    let polyline = el.querySelector('.cur-polyline-active')\n\n    switch(shape) {\n      case 'point':\n\t\t\t\tbreak;\n\n\t\t\tcase 'rect':\n        offsetX > this.x ? x = this.x : x = offsetX\n        offsetY > this.y ? y = this.y : y = offsetY\n        // eslint-disable-next-line no-case-declarations\n        let width = Math.abs(offsetX - this.x)\n        // eslint-disable-next-line no-case-declarations\n        let height = Math.abs(offsetY - this.y)\n        // eslint-disable-next-line no-case-declarations\n        let curShapeEl = this.curShape.els[0]\n        curShapeEl.setAttribute('x', x)\n        curShapeEl.setAttribute('y', y)\n        curShapeEl.setAttribute('width', width)\n        curShapeEl.setAttribute('height', height)\n        this.curShape.points = [\n          [x, y],\n          [x + width, y],\n          [x, y + height],\n          [x + width, y + height]\n        ]\n\t\t\t\t\n\t\t\t\tbreak;\n\n\t\t\tcase 'polygon':\n      case 'polyline':\n        polyline && polyline.setAttribute('points', movePoints.join(' '))\n\t\t\t\tbreak;\n        \n\t\t\tdefault:\n\t\t\t\tbreak;\n    }\n    \n  } \n  //  --\n  handleMouseupDraw(e) {\n    const { shape } = this.config\n    let button = e.buttons\n\n    switch(shape) {\n      case 'point':\n\t\t\t\tbreak;\n\n\t\t\tcase 'rect':\n        this.drawRectEnd()\n\t\t\t\t\n\t\t\t\tbreak;\n\n\t\t\tcase 'polygon':\n\t\t\t\tbreak;\n\n\t\t\tcase 'polyline':\n        //  \n        if (button === 2) {\n          this.isDrawEnd = true\n        }\n\t\t\t\tbreak;\n\t\t\tdefault:\n        this.cleanCurShapeData()\n\t\t\t\tbreak;\n    }\n  }\n  //  \n  cleanCurShapeData() {\n    this.curShape = {\n      els: [],\n      shape: '',\n      points: []\n    }\n  }\n  //  SVG\n  removeCurShapeEls() {\n    let curShape = this.curShape\n    let els = curShape.els\n\n    els.forEach(el => {\n      el.parentNode.removeChild(el)\n    })\n\n    this.isDrawEnd = true\n    this.cleanCurShapeData()\n  }\n   \n  drawPoint(parent, points, attrs = {}) {\n    const { drawConfig, el } = this.config\n    const { size, color } = drawConfig.point\n    const cx = points[0]\n    const cy = points[1]\n    \n    let config = {\n      class: ``,\n      cx,\n      cy,\n      r: size,\n      stroke: color,\n      fill: color,\n      'data-position': JSON.stringify(points)\n    }\n    config = {\n      ...config,\n      ...attrs\n    }\n\n    let point = createSvgEl('circle', config)\n    parent.appendChild(point)\n\n    point.addEventListener('mouseover', function (e) {\n      let target = e.target\n      \n      if (target === el.querySelector('.polygon-active-start-point')) {\n        //  target.style.borderColor = 'black'\n        target.setAttribute('stroke', 'yellow')\n        target.style.strokeWidth = 20\n      }\n      target.style.strokeWidth = 10\n\t\t})\n\t\tpoint.addEventListener('mouseout', function (e) {\n      let target = e.target\n\t\t\ttarget.style.strokeWidth = 1\n      target.setAttribute('fill', color)\n\t\t})\n\n    return point\n  }\n\n  drawRect(parent, attrs = {}) {\n    const { drawConfig } = this.config\n    const { size, color, bgColor } = drawConfig.rect\n\n    let config = {\n      'class': '',\n    }\n    config = {\n      ...config,\n      'stroke-width': size,\n      stroke: color,\n      fill: bgColor,\n      ...attrs\n    }\n    let rect = createSvgEl('rect', config)\n    parent.appendChild(rect)\n\n    return rect\n  }\n\n  //  \n  drawRectEnd() {\n    if (!this.isDrawEnd) {\n      let curShape = this.curShape\n      let rect = curShape.els[0]\n      let w = rect.getAttribute('width')\n      let h = rect.getAttribute('height')\n\n      if (w < this.rectMinWidth || h < this.rectMinHeight) {\n        rect.parentNode.removeChild(rect)\n      }\n      else {\n        curShape = {\n          ...curShape,\n          points: this.submitConvertData(curShape.points)\n        }\n        this.outputData.push(curShape)\n        let drawEnd = this.config.drawEnd\n        drawEnd && drawEnd('rect', curShape)\n      }\n\n      this.isDrawEnd = true\n      this.cleanCurShapeData()\n    }\n  }\n  \n  drawPolygon(parent, points, attrs = {}) {\n    const { drawConfig } = this.config\n    const { size, color, bgColor } = drawConfig.polygon\n\n    let config = {\n      class: '',\n      points: points.join(' '),\n      stroke: color,\n      'stroke-width': size,\n      fill: bgColor,\n      'data-position': JSON.stringify(points)\n    }\n\n    config = {\n      ...config,\n      ...attrs\n    }\n    let polygon = createSvgEl('polygon', config)\n    parent.appendChild(polygon)\n\n    return polygon\n  }\n  drawPolyline(parent, points, attrs = {}) {\n    const { drawConfig } = this.config\n    const { size, color } = drawConfig.polyline\n\n    let config = {\n      points: points.join(' '),\n      fill: 'none',\n      stroke: color,\n      'stroke-width': size,\n      'data-position': JSON.stringify(points)\n    }\n    config = {\n      ...config,\n      ...attrs\n    }\n    let polyline = createSvgEl('polyline', config)\n    parent.appendChild(polyline)\n\n    return polyline\n  }\n  // \n  drawText(parent, text, point, maxWidth, maxHeight, attrs = {}) {\n    const { drawConfig } = this.config\n    const { size, color } = drawConfig.text\n    let fontSize = size\n    const textLen = text.length\n    const curWidth = size * textLen\n\n    if (curWidth > maxWidth) {\n      fontSize = Math.floor(maxWidth / textLen)\n    }\n\n    let config = {\n      x: point.x + maxWidth * 0.5,\n      y: point.y + maxHeight * 0.5,\n      fill: color,\n      'text-anchor': 'middle',\n      'dominant-baseline': 'central',\n      style: {\n        'font-size': `${fontSize}px`\n      }\n    }\n\n    config = {\n      ...config,\n      ...attrs\n    }\n\n    let el = createSvgEl('text', config)\n    parent.appendChild(el)\n    el.innerHTML = text\n\n    return el\n  }\n  //  style top left\n  getImgStyleTopLeft() {\n    const { el } =  this.config\n    const wrapper = el.querySelector('.svg-painter-box-wrapper')\n    let styleTop = parseFloat(wrapper.style.top)\n    let styleLeft = parseFloat(wrapper.style.left)\n\n    return {\n      styleTop,\n      styleLeft\n    }\n  }\n\n  clean() {\n    const { el, showMask, maskInfo } =  this.config\n    let svg = el.querySelector('.svg-painter')\n    this.isDrawEnd = true\n    this.outputData = []\n    this.curShape = {\n      els: [],\n      shape: '',\n      points: []\n    }\n    svg.innerHTML = ''\n    showMask && this.createSvgMask(svg, maskInfo.x, maskInfo.y, maskInfo.w, maskInfo.h, maskInfo.color)\n  }\n  //    \n  repeal() {\n    if (this.config.isLock) return\n\n    let last = this.outputData.pop()\n    \n    if (!last) {\n\n      return\n    }\n\n    let els = last.els\n    els.forEach(el => {\n      let parent = el.parentNode\n      parent.removeChild(el)\n    })\n  }\n  //  \n  getData() {\n    return this.outputData\n  }\n  //  \n  curPolygonRepeal(els, points, polyline) {\n    let popEl = els.pop()\n\n    if (!popEl) {\n      return {\n        els: [],\n        points: []\n      }\n    }\n\n    popEl.parentNode.removeChild(popEl)\n    points.pop()\n\n    polyline.setAttribute('points', points.join(' '))\n\n    //  \n    if (els.length === 0) {\n      polyline.parentNode.removeChild(polyline)\n      this.isDrawEnd = true\n      this.cleanCurShapeData()\n    }\n\n    return {\n      els,\n      points\n    }\n  }\n  //    \n  submitConvertData(data) {\n    let w = this.viewWidth\n    let h = this.viewHeight\n    let arr = []\n\n    data.forEach(item => {\n      let x = item[0] / w\n      let y = item[1] / h\n      let obj = {\n        x,\n        y\n      }\n\n      arr.push(obj)\n    })\n\n    return arr\n  }\n  //  \n  initShape(parent, data, w, h) {\n    data.forEach(item => {\n      let { shape, points, className = '', attrs = {} } = item\n      let curShape = {\n        shape,\n        points\n      }\n\n      let drawPoints = deepClone(points).map(point => {\n        point.x *= w\n        point.y *= h\n\n        return point\n      })\n\n      let svgEl = null\n\n      switch(shape) {\n        case 'point':\n          svgEl = this.drawPoint(parent, [drawPoints[0].x, drawPoints[0].y], attrs)\n          break;\n\n        case 'rect':\n          // eslint-disable-next-line no-case-declarations\n          const point1 = drawPoints[0]\n          // eslint-disable-next-line no-case-declarations\n          const point4 = drawPoints[3]\n          svgEl = this.drawRect(parent, {\n            x: point1.x,\n            y: point1.y,\n            width: point4.x - point1.x,\n            height: point4.y - point1.y,\n            ...attrs\n          })\n          break;\n\n        case 'polyline':\n          drawPoints = drawPoints.map(item => {\n            let arr = [item.x, item.y]\n\n            return arr\n          })\n          svgEl = this.drawPolyline(parent, drawPoints, attrs)\n          break;\n\n        case 'polygon':\n          drawPoints = drawPoints.map(item => {\n            let arr = [item.x, item.y]\n\n            return arr\n          })\n          svgEl = this.drawPolygon(parent, drawPoints, attrs)\n          break;\n\n        case 'text':\n          svgEl = this.drawRectText(parent, item.text, drawPoints, attrs)\n          break;\n\n        default:\n          break;\n      }\n\n      if (svgEl instanceof Array && svgEl.length) {\n        svgEl.forEach(el => {\n          el.setAttribute('class', className)\n          \n        })\n\n        curShape.els = [...svgEl]\n      }\n      else {\n        svgEl.setAttribute('class', className)\n        curShape.els = [svgEl]\n      }\n      \n      this.outputData.push(curShape)\n    })\n  }\n\n  // \n  drawRectText(parent, text, drawPoints, attrs) {\n    const startPoint = drawPoints[0]\n    const endPoint = drawPoints[1]\n    const height = this.config.drawConfig.text.h\n    const { bgColor, fill } = attrs\n    const width = endPoint.x - startPoint.x\n\n    const rectShape = this.drawRect(parent, {\n      x: startPoint.x,\n      y: startPoint.y,\n      width,\n      height,\n      fill: bgColor,\n      stroke: bgColor\n    })\n\n    const textShape = this.drawText(parent, text, startPoint, width, height, {\n      fill\n    })\n\n    return [rectShape, textShape]\n  }\n\n  //  \n  dispose() {\n    this.clean()\n    this.removeEvent()\n  }\n}\n\nexport default SvgLabel","import { merge, addHandle, removeHandle } from './util'\n\nclass ViewBox {\n  constructor(opt) {\n    this.config = {\n      scale: 16 / 9,\n      el: document.querySelector('.view-box-roi'),\n      config: {},\n      width: 320,\n      height: 180,\n      maxWidth: 0,\n      maxHeight: 0,\n      circleSize: 8,\n      parentEl: document.querySelector('.lbi-svg-box-wrapper'),\n      onChange: () => {}\n    }\n    this.config = merge(this.config, opt)\n    this.isDrag = false\n    this.isInCircle = false\n    this.x = 0\n    this.y = 0\n    this.styleTop = 0\n    this.styleLeft = 0\n    this.elWidth = 0\n    this.elHeight = 0\n    this.circleEl = null\n\n    this.init()\n  }\n\n  init() {\n    this.loadStyle()\n    this.renderUI()\n    this.bindEvt()\n    this.initElSizePos()\n  }\n\n  initElSizePos() {\n    const { config } = this.config\n    if (!Object.keys(config).length) return\n\n    const { w, h, x, y } = config\n    this.setSize(w, h)\n    this.setPos(y, x)\n    this.config.onChange(false, w, h, x, y)\n  }\n\n  renderUI() {\n    const { el } = this.config\n    let uiDiv = el.querySelector('.view-box-container')\n\n    if (!uiDiv) {\n      uiDiv = document.createElement('div')\n      uiDiv.className = 'view-box-container'\n    }\n\n    let circleHtml = ''\n    const max = 8\n    const funcList = [\n      'topLeft',\n      'topCenter',\n      'topRight',\n      'centerRight',\n      'bottomRight',\n      'bottomCenter',\n      'bottomLeft',\n      'centerLeft'\n    ]\n\n    for (let i = 0; i < max; i++) {\n      circleHtml += '<span class=\"circle_point circle_point_'+ (i + 1) +'\" data-func=\"'+ funcList[i] +'\"></span>'\n    }\n\n    uiDiv.innerHTML = circleHtml\n    el.appendChild(uiDiv)\n    this.config.rootEl = uiDiv\n\n    const { maxWidth, maxHeight, width, height } = this.config\n    const w = width / maxWidth\n    const h = height / maxHeight\n    const top = (1 - h) / 2\n    const left = (1 - w) / 2\n\n    this.setSize(w, h)\n    this.setPos(top, left)\n  }\n\n  setSize(w, h) {\n    const el = this.config.el.querySelector('.view-box-container')\n    el.style.width = w * 100 + '%'\n    el.style.height = h * 100 + '%'\n    el.dataset.width = w\n    el.dataset.height = h\n  }\n\n  setPos(top, left) {\n    const el = this.config.el.querySelector('.view-box-container')\n    el.dataset.left = left\n    el.dataset.top = top\n    el.style.top = top * 100 + '%'\n    el.style.left = left * 100 + '%'\n  }\n\n  getElPos() {\n    const el = this.config.el.querySelector('.view-box-container')\n    const x = Number(el.dataset.left)\n    const y = Number(el.dataset.top)\n    const w = Number(el.dataset.width)\n    const h = Number(el.dataset.height)\n\n    return {\n      x,\n      y,\n      w,\n      h\n    }\n  }\n\n  //  \n  loadStyle() {\n    let style = document.querySelector('.view-box')\n\n    if (!style) {\n      style = document.createElement('style')\n      style.className = 'view-box'\n    }\n\n    let circleSize = this.config.circleSize\n    let distance = circleSize / 2\n\n    let styleStr = `\n      .circle_point {\n        width: ${circleSize}px;\n        height: ${circleSize}px;\n        border-radius: 100%;\n        background: #fff;\n        position: absolute;\n        // display: none;\n      }\n      .circle_point_1 {\n        top: 0;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_point_1:hover {\n        cursor: nwse-resize;\n      }\n      .circle_point_2 {\n        top: 0;\n        left: 50%;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_point_2:hover {\n        cursor: ns-resize;\n      }\n      .circle_point_3 {\n        top: 0;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_point_3:hover {\n        cursor: nesw-resize;\n      }\n      .circle_point_4 {\n        top: 50%;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_point_4:hover {\n        cursor: ew-resize;\n      }\n      .circle_point_5 {\n        bottom: 0;\n        right: 0;\n        margin-right: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_point_5:hover {\n        cursor: nwse-resize;\n      }\n      .circle_point_6 {\n        bottom: 0;\n        right: 50%;\n        margin-right: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_point_6:hover {\n        cursor: ns-resize;\n      }\n      .circle_point_7 {\n        bottom: 0;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-bottom: -${distance}px;\n      }\n      .circle_point_7:hover {\n        cursor: nesw-resize;\n      }\n      .circle_point_8 {\n        top: 50%;\n        left: 0;\n        margin-left: -${distance}px;\n        margin-top: -${distance}px;\n      }\n      .circle_point_8:hover {\n        cursor: ew-resize;\n      }\n      .view-box-container {\n        cursor: move;\n        position: absolute;\n        border: rgba(71, 118, 241, 0.6);\n        background: rgba(71, 118, 241, 0.4);\n      }\n    `\n    style.innerHTML = styleStr\n    document.querySelector('head').appendChild(style)\n  }\n\n  bindEvt() {\n    const { rootEl, parentEl } = this.config\n\n    addHandle(rootEl, 'mousedown', this.wrapperMousedown.bind(this))\n    addHandle(rootEl, 'mousemove', this.wrapperMousemove.bind(this))\n    addHandle(parentEl, 'mousemove', this.circleMousemove.bind(this))\n    \n    addHandle(rootEl, 'mouseup', this.wrapperMouseup.bind(this))\n    addHandle(document.body, 'mouseup', this.wrapperMouseup.bind(this))\n\n    // const circlePointList = rootEl.querySelector('.circle_point')\n\n    // for (let i = 0; i < circlePointList.length; i++) {\n    //   const el = circlePointList[i]\n\n    //   addHandle(el, 'mousedown', this.circleMousedown.bind(this))\n    //   addHandle(el, 'mousemove', this.circleMousemove.bind(this))\n    //   addHandle(el, 'mouseup', this.circleMouseup.bind(this))\n    // }\n  }\n\n  removeEvt() {\n    const { rootEl } = this.config\n\n    if (!rootEl) return\n\n    removeHandle(rootEl, 'mousedown', this.wrapperMousedown)\n    removeHandle(rootEl, 'mousemove', this.wrapperMousemove)\n    removeHandle(rootEl, 'mouseup', this.wrapperMouseup)\n    addHandle(document.body, 'mouseup', this.wrapperMouseup)\n  }\n\n  wrapperMousedown(e) {\n    e.stopPropagation()\n    const { rootEl } = this.config\n    this.x = e.pageX\n    this.y = e.pageY\n    this.styleTop = Number(rootEl.dataset.top)\n    this.styleLeft = Number(rootEl.dataset.left)\n    this.elWidth = Number(rootEl.dataset.width)\n    this.elHeight = Number(rootEl.dataset.height)\n\n    //  \n    if (e.target !== rootEl) {\n      console.log('wrapperMousedown isInCircle')\n      this.isInCircle = true\n      this.circleEl = e.target\n\n      return\n    }\n    \n    //  \n    this.isDrag = true\n  }\n\n  wrapperMousemove(e) {\n    const x = e.pageX\n    const y = e.pageY\n    const { maxWidth, maxHeight } = this.config\n    const width = this.elWidth\n    const height = this.elHeight\n    const styleLeft = Number(this.styleLeft)\n    const styleTop = Number(this.styleTop)\n\n    // console.log('this.isInCircle', this.isInCircle)\n\n    //  \n    if (this.isDrag) {\n\n      // console.log('wrapperMousemove x', (x - this.x) / maxWidth)\n      // console.log('wrapperMousemove y', (y - this.y) / maxHeight)\n\n      let top = styleTop + (y - this.y) / maxHeight\n      let left = styleLeft + (x - this.x) / maxWidth\n\n      const res = this.isOut(width, height, top, left)\n      top = res.top\n      left = res.left\n      this.setPos(top, left)\n      this.config.onChange(true, width, height, left, top)\n    }\n\n    //  \n    // if (this.isInCircle) {\n    //   this.circleMousemove(x, y, width, height, maxWidth, maxHeight, styleLeft, styleTop)\n    // }\n  }\n\n  wrapperMouseup() {\n    //  console.log('wrapperMouseup')\n    this.isDrag = false\n    this.isInCircle = false\n  }\n\n  //  \n  circleMousemove(e) {\n    //  \n    if (!this.isInCircle) return\n\n    const x = e.pageX\n    const y = e.pageY\n    const { maxWidth, maxHeight } = this.config\n    const width = this.elWidth\n    const height = this.elHeight\n    const styleLeft = Number(this.styleLeft)\n    const styleTop = Number(this.styleTop)\n    const el = this.circleEl\n    const type = el.dataset.func\n\n    let h = (y - this.y) / maxHeight\n    let w = (x - this.x) / maxWidth\n    //  console.log('circleMousemove h', h)\n\n    let curWidth = width\n    let curHeight = height\n    let top = styleTop\n    let left = styleLeft\n\n    switch(type) {\n      case 'topLeft':\n        curWidth = width + (-w)\n        curHeight *= curWidth / width\n        \n        top = styleTop + (height - curHeight)\n        left = styleLeft + (width - curWidth)\n        \n        break;\n      \n      case 'topCenter':\n        curHeight = height + (-h)\n        curWidth *= curHeight / height\n        top = styleTop + (height - curHeight)\n        left = styleLeft + (width - curWidth) / 2\n        \n        break;\n      \n      case 'topRight':\n        curWidth = width + w\n        curHeight *= curWidth / width\n        top = styleTop + (height - curHeight)\n        \n        break;\n      \n      case 'centerRight':\n        curWidth = width + w\n        curHeight *= curWidth / width\n        top = styleTop + (height - curHeight) / 2\n\n        break;\n\n      case 'bottomRight':\n        curWidth = width + w\n        curHeight *= curWidth / width\n        \n        break;\n      \n      case 'bottomCenter':\n        curHeight = height + h\n        curWidth *= curHeight / height\n        left = styleLeft + (width - curWidth) / 2\n\n        break;\n\n      case 'bottomLeft':\n        curWidth = width + (-w)\n        curHeight *= curWidth / width\n        left = styleLeft + (width - curWidth)\n\n        break;\n      \n      case 'centerLeft':\n        curWidth = width + (-w)\n        curHeight *= curWidth / width\n        top = styleTop + (height - curHeight) / 2\n        left = styleLeft + (width - curWidth)\n\n        break;\n\n      default:\n        break;\n    }\n\n    this.setSize(curWidth, curHeight)\n    this.setPos(top, left)\n\n    this.config.onChange(true, curWidth, curHeight, left, top)\n  }\n  \n  //  \n  isOut(w, h, top, left) {\n    top = top <= 0 ? 0 : top\n    left = left <= 0 ? 0 : left\n    top = top + h > 1 ? (1 - h) : top\n    left = left + w > 1 ? (1 - w) : left\n\n    return {\n      top,\n      left\n    }\n  }\n\n  dispose() {\n    this.removeEvt()\n    \n    const viewBox = this.config.el.querySelector('.view-box-container')\n    viewBox && viewBox.parentNode.removeChild(viewBox)\n  }\n}\n\nexport default ViewBox","<template>\n  <div class=\"roi-container bsizing\" v-loading=\"isLoading\">\n    <div class=\"has-img\" v-if=\"img && !imgIsLoadErr\">\n      <header\n        v-if=\"tools.length && drawTools.length\"\n        class=\"header flex-v-c bsizing\">\n        <!--  -->\n        <div\n          v-for=\"(item, index) in drawTools\"\n          :key=\"item.type\"\n          :class=\"[\n            'draw-shape tool-item bsizing',\n            'draw-shape-' + item.type,\n            index === drawTools.length - 1 ? 'draw-shape-last' : '',\n            isLock ? 'disabled' : ''\n          ]\"\n          @click=\"handleDraw(item.type)\"\n        >\n          <el-tooltip effect=\"dark\" :content=\"item.text\" placement=\"top\">\n            <div\n              :class=\"[\n                'tool-item-wrapper flex-v-c bsizing',\n                item.type === shape ? 'active' : ''\n              ]\"\n            >\n              <div\n                :class=\"[\n                  'tool-icon',\n                  'tool-item-' + item.type + '-icon'\n                ]\"\n              ></div>\n            </div>\n          </el-tooltip>\n        </div>\n\n        <!--  -->\n        <div\n          v-for=\"item in tools\"\n          :key=\"item.type\"\n          :class=\"[\n            'operate-tool-item tool-item bsizing',\n            'tool-item-' + item.type,\n          ]\"\n          @click=\"handleSelectTool(item.type)\"\n        >\n          <!--  -->\n          <el-slider\n            v-model=\"scale\"\n            v-if=\"item.type === 'progressBar'\"\n            :min=\"minScale\"\n            :max=\"maxScale\"\n            :step=\"step\"\n            :format-tooltip=\"formatTooltip\"\n            @change=\"setScale\"\n          ></el-slider>\n\n          <!--  -->\n          <div class=\"flex-v-c\" v-else-if=\"item.type === 'changeBg'\">\n            <el-dropdown placement=\"bottom\" @command=\"handleChangeBg\">\n              <div class=\"tool-item-bg tool-item-wrapper\">\n                <div :class=\"['tool-icon', 'tool-item-' + item.type + '-icon']\"></div>\n              </div>\n              <el-dropdown-menu class=\"cus-dropdown-menu-drop\" slot=\"dropdown\">\n                <el-dropdown-item\n                  v-for=\"bg in bgList\"\n                  :key=\"bg.type\"\n                  :command=\"bg.type\"\n                  :class=\"[curBg === bg.type ? 'active' : '']\"\n                >\n                  <div class=\"bg-text\">{{ bg.name }}</div>\n                  <div :class=\"['bg-icon', `bg-icon-${bg.type}`]\"></div>\n                </el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </div>\n\n          <!--  -->\n          <div class=\"safe flex-v-c\" v-else-if=\"item.type === 'safe'\">\n            {{ item.text }}\n            <el-switch\n              size=\"small\"\n              :width=\"30\"\n              v-model=\"isShowSafe\"\n              active-color=\"#1872f0\"\n              inactive-color=\"rgba(27, 53, 89, 0.25)\"\n              @change=\"handleSwitchSafe\"\n            ></el-switch>\n          </div>\n\n          <!--  -->\n          <el-tooltip\n            v-else-if=\"item.type === 'area'\"\n            effect=\"dark\"\n            :content=\"item.text\"\n            placement=\"top\"\n          >\n            <div class=\"tool-item-area tool-item-wrapper\">\n              <div :class=\"['tool-icon', 'tool-item-' + item.type + '-icon']\"></div>\n            </div>\n          </el-tooltip>\n\n          <el-tooltip v-else effect=\"dark\" :content=\"item.text\" placement=\"top\">\n            <div\n              :class=\"['tool-item-wrapper flex-v-c bsizing', item.type === mode ? 'active' : '']\"\n            >\n              <div :class=\"['tool-icon', 'tool-item-' + item.type + '-icon']\"></div>\n            </div>\n          </el-tooltip>\n        </div>\n      </header>\n      <div class=\"roi-img bsizing\"></div>\n    </div>\n\n    <div v-if=\"imgIsLoadErr\" class=\"img-load-err\">\n      <img :src=\"require(`./img/roi-404.png`)\" />\n    </div>\n\n    <input type=\"file\" accept=\"image/*\" class=\"none upload-input\" @change=\"uploadInputChange\" />\n  </div>\n</template>\n\n<script>\nimport SvgLabel from './svg-label'\nimport { deepClone } from './util'\nimport mousePoint from './img/mouse-point.png'\nimport mousePolyline from './img/mouse-polyline.png'\nimport mouseRect from './img/mouse-rect.png'\nimport mousePolygon from './img/mouse-polygon.png'\nimport ViewBox from './viewBox'\n\nexport default {\n  props: {\n    // \n    img: {\n      type: String,\n      default: ''\n    },\n    // \n    upload: {\n      type: Function,\n      default: async () => {}\n    },\n    // \n    initData: {\n      type: Array,\n      default: () => [\n        {\n          shape: 'point',\n          points: [\n            {\n              x: 0.5181818181818182,\n              y: 0.1840909090909091\n            }\n          ]\n        },\n        {\n          shape: 'rect',\n          points: [\n            { x: 0.33636363636363636, y: 0.4670454545454546 },\n            { x: 0.7579545454545454, y: 0.4670454545454546 },\n            { x: 0.33636363636363636, y: 0.697159090909091 },\n            { x: 0.7579545454545454, y: 0.697159090909091 }\n          ]\n        },\n        {\n          shape: 'polyline',\n          points: [\n            { x: 0.12386363636363637, y: 0.15000000000000002 },\n            { x: 0.38977272727272727, y: 0.35625 },\n            { x: 0.47613636363636364, y: 0.2028409090909091 }\n          ]\n        },\n        {\n          shape: 'polygon',\n          points: [\n            { x: 0.5965909090909091, y: 0.13977272727272727 },\n            { x: 0.5511363636363636, y: 0.34090909090909094 },\n            { x: 0.8022727272727272, y: 0.3698863636363637 },\n            { x: 0.7954545454545454, y: 0.6937500000000001 },\n            { x: 0.4738636363636364, y: 0.5607954545454545 },\n            { x: 0.7556818181818182, y: 0.1653409090909091 }\n          ]\n        }\n      ]\n    },\n    // \n    tools: {\n      type: Array,\n      default: () => [\n        { type: 'drag', name: '', text: '' },\n        { type: 'repeal', name: '', text: '' },\n        { type: 'clean', name: '', text: '' },\n        { type: 'changeBg', name: '', text: '' },\n        { type: 'shrink', name: '', text: '' },\n        { type: 'progressBar', name: '', text: '' },\n        { type: 'magnify', name: '', text: '' },\n        // { type: 'safe', name: '', text: '' },\n        // { type: 'area', name: '', text: '' },\n        { type: 'upload', name: '', text: '' }\n      ]\n    },\n    //  \n    drawTools: {\n      type: Array,\n      default: () => [\n        { type: 'point', name: '', text: ''},\n        { type: 'polyline', name: '', text: '' },\n        { type: 'rect', name: '', text: '' },\n        { type: 'polygon', name: '', text: '' },\n      ]\n    },\n    // \n    drawEnd: {\n      type: Function,\n      default: (shapeInfo) => {\n        console.log(`drawEnd:`, shapeInfo)\n      }\n    },\n    // \n    clean: {\n      type: Function,\n      default: () => { }\n    },\n    // \n    initShape: {\n      type: String,\n      default: ''\n    },\n    // \n    isLock: {\n      type: Boolean,\n      default: false\n    },\n    // \n    defAreaConfig: {\n      type: Object,\n      default: () => ({})\n    },\n    // \n    areaChange: {\n      type: Function,\n      default: () => {}\n    },\n    // \n    minScale: {\n      type: Number,\n      default: 0.5\n    },\n    // \n    maxScale: {\n      type: Number,\n      default: 5\n    }\n  },\n  data () {\n    return {\n      scale: 1,\n      step: 0.1,\n      mode: 'draw',    //   draw-- drag--\n      shape: '',        //  \n      roiInstance: null,\n      isLoading: false,\n      points: [],\n      shapeIcon: {\n        point: mousePoint,\n        polyline: mousePolyline,\n        rect: mouseRect,\n        polygon: mousePolygon\n      },\n      isShowSafe: false,\n      safeMaskInfo: {\n        x: 0.178,\n        y: 0.17,\n        w: 0.546,\n        h: 0.44,\n        color: 'rgba(248, 47, 7, 0.3)'\n      },\n      isShowViewArea: false,\n      viewBox: null,\n      imgWidth: 0,\n      imgHeight: 0,\n      isFirstLoadImg: true,\n      imgIsLoadErr: false,\n      bgList: [\n        { name: '', type: 'opacity' },\n        { name: '', type: 'black' },\n        { name: '', type: 'white' },\n      ],\n      curBg: 'opacity'\n    }\n  },\n  mounted() {\n    if (!this.img) {\n      return\n    }\n\n    this.points = deepClone(this.initData)\n    this.initRoi(this.img, this.initData)\n\n    this.isShowViewArea = Object.keys(this.defAreaConfig).length ? true : false\n  },\n  methods: {\n    // \n    initRoi(img, initData) {\n      this.isLoading = true\n      let shapeIcon = this.shapeIcon\n      let el = this.$el.querySelector('.roi-img')\n      let w = el.offsetWidth\n      let h = el.offsetHeight\n      const isLock = this.isLock\n      const minScale = this.minScale\n      const maxScale = this.maxScale\n      let shape = isLock ? '' : this.initShape\n\n      this.roiInstance = new SvgLabel({\n        el,\n        w,\n        h,\n        shape,\n        shapeIcon,\n        minScale,\n        maxScale,\n        imgOnloadCb: this.imgOnloadCb,\n        imgOnErr: this.imgOnErr,\n        url: img,\n        isLock,\n        initData,\n        isMouseWheel: true,\n        drawEnd: this.handleDrawEnd,\n        showMask: this.isShowSafe,\n        maskInfo: this.safeMaskInfo,\n        handleResize: this.handleResize,\n        imgWidth: 0,\n        imgHeight: 0,\n        setScale: (scale) => {\n          this.scale = scale\n        }\n      })\n    },\n    // \n    handleResize() {\n      this.scale = 1\n    },\n    // \n    handleChangeBg(command) {\n      const roiImg = this.$el.querySelector('.roi-img')\n      const bgColor = {\n        white: 'bg-white',\n        black: 'bg-black'\n      }\n\n      roiImg.className = 'roi-img bsizing'\n      if (command === 'opacity') {\n        return\n      }\n\n      roiImg.classList.add(bgColor[command])\n    },\n    //  \n    imgOnloadCb(imgWidth, imgHeight) {\n      this.isLoading = false\n      this.imgIsLoadErr = false\n      this.imgWidth = imgWidth\n      this.imgHeight = imgHeight\n\n      if (this.isFirstLoadImg && this.isShowViewArea) {\n        this.initAreaViewBox(imgWidth, imgHeight)\n        this.isFirstLoadImg = false\n      }\n      else {\n        this.isShowViewArea = false\n        this.viewAreaBoxDispose()\n        this.areaChange(this.isFirstLoadImg ? false : true, {})\n      }\n    },\n    //  \n    imgOnErr() {\n      this.isLoading = false\n      this.imgIsLoadErr = true\n\n      const roiInstance = this.roiInstance\n      roiInstance && roiInstance.dispose()\n\n      this.roiInstance = null\n    },\n    //  \n    handleSelectTool(type) {\n      let eventType = 'handle' + type.replace(type[0], type[0].toUpperCase())\n\n      if (type === 'progressBar' || type === 'safe') {\n        //  console.log('')\n        return\n      }\n\n      this[eventType]()\n    },\n    //  \n    handleDraw(shape) {\n      this.mode = 'draw'\n\n      if (this.shape === shape) {\n        return\n      }\n\n      this.shape = shape\n      let instance = this.roiInstance\n\n      if (!instance) {\n        return\n      }\n\n      //  \n      if (this.isLock) {\n        // console.log('roi lock')\n        this.shape = ''\n        instance.setType('draw')\n        return\n      }\n\n      instance.setType('draw')\n      instance.setDrawShape(shape)\n      // instance.setAxisIsShow(true)\n      instance.removeCurShapeEls()\n    },\n    //  \n    handleDrawEnd(shape, shapeInfo) {\n      //  console.log('handleDrawEnd', shape, shapeInfo)\n      let instance = this.roiInstance\n      this.shape = ''\n      instance.setType('draw')\n      instance.setDrawShape('')\n\n      let drawEnd = this.drawEnd\n      drawEnd && drawEnd(shapeInfo)\n\n      this.points.push(shapeInfo)\n    },\n    //  \n    handleDrag() {\n      this.mode = 'drag'\n      let instance = this.roiInstance\n\n      if (!instance) {\n        return\n      }\n\n      this.shape = ''\n      instance.removeCurShapeEls()\n      instance.setType('drag')\n    },\n    //  \n    handleShrink() {\n      this.scale--\n\n      if (this.scale <= this.minScale) {\n        this.scale = this.minScale\n      }\n\n      this.setScale(this.scale)\n    },\n    //  \n    handleMagnify() {\n      this.scale++\n\n      if (this.scale >= this.maxScale) {\n        this.scale = this.maxScale\n      }\n\n      this.setScale(this.scale)\n    },\n    //  \n    setImgSize(scale) {\n      this.imgWidth *= scale\n      this.imgHeight *= scale\n\n      // if (this.viewBox) {\n      //   this.viewBox.setMaxValue(this.imgWidth, this.imgHeight)\n      // }\n    },\n    //  \n    setScale(scale) {\n      let instance = this.roiInstance\n\n      if (!instance) return\n\n      instance.setScale(scale)\n      //  this.setImgSize(this.scale)\n    },\n    //  \n    handleUpload() {\n      let uploadInput = this.$el.querySelector('.upload-input')\n      uploadInput.click()\n    },\n    // \n    async uploadInputChange(e) {\n      let file = e.target.files[0]\n      //  console.log('uploadInputChange file', file)\n      e.target.value = ''\n\n      this.isLoading = true\n      let url = await this.upload(file)\n      this.isLoading = false\n\n      if (!url) {\n        return\n      }\n\n      if (!this.roiInstance) {\n        this.$nextTick(() => {\n          this.points = deepClone(this.initData)\n          this.initRoi(url, this.initData)\n        })\n        return\n      }\n\n      this.handleSwitchImg(url)\n    },\n    //  \n    switchBgImg(url) {\n      if (!url) {\n        return\n      }\n\n      this.imgIsLoadErr = false\n\n      if (!this.roiInstance) {\n        this.$nextTick(() => {\n          this.points = deepClone(this.initData)\n          this.initRoi(url, this.initData)\n        })\n        return\n      }\n\n      this.handleSwitchImg(url)\n    },\n    //  \n    handleSwitchImg(url) {\n      let instance = this.roiInstance\n\n      this.scale = 1\n      instance.setScale(1)\n      this.handleClean()\n\n      instance.loadImg(url)\n      // console.log('')\n    },\n    //  \n    handleRepeal() {\n      let instance = this.roiInstance\n\n      if (!instance) {\n        return\n      }\n\n      instance.repeal()\n      this.points.pop()\n\n      // console.log('', this.points)\n    },\n    //  \n    handleClean() {\n      //  console.log('handleClean')\n      let instance = this.roiInstance\n      instance && instance.clean()\n      this.points = []\n\n      let clean = this.clean\n      clean && clean()\n    },\n    //  \n    formatTooltip(val) {\n      return Math.floor(val * 100) + '%'\n    },\n    //  \n    handleSwitchSafe(isSafe) {\n      let instance = this.roiInstance\n\n      if (!instance) {\n        return\n      }\n\n      if (isSafe) {\n        const { x, y, w, h, color } = this.safeMaskInfo\n        instance.createSvgMask('', x, y, w, h, color)\n      }\n      else {\n        instance.deleteMask()\n      }\n    },\n    // \n    getData() {\n      return this.points\n    },\n    // \n    dispose() {\n      let instance = this.roiInstance\n      instance && instance.dispose()\n      this.roiInstance = null\n    },\n    //  \n    handleArea() {\n      this.isShowViewArea = !this.isShowViewArea\n\n      if (!this.viewBox) {\n        this.initAreaViewBox(this.imgWidth, this.imgHeight)\n      }\n      else {\n        this.viewAreaBoxDispose()\n      }\n      const defAreaConfig = this.getViewAreaInfo()\n      this.areaChange(true, defAreaConfig)\n    },\n    // \n    initAreaViewBox(imgWidth, imgHeight) {\n      this.viewAreaBoxDispose()\n      const el = this.$el.querySelector('.lbi-svg-box-wrapper')\n\n      this.viewBox = new ViewBox({\n        el,\n        maxWidth: imgWidth,\n        maxHeight: imgHeight,\n        config: this.defAreaConfig,\n        onChange: (isEdit, w, h, x, y) => {\n          this.areaViewBoxChange(isEdit, w, h, x, y)\n        }\n      })\n    },\n    //   \n    areaViewBoxChange(isEdit, w, h, x, y) {\n      this.areaChange(isEdit, { w, h, x, y })\n    },\n    //  \n    viewAreaBoxDispose() {\n      this.viewBox && this.viewBox.dispose()\n      this.viewBox = null\n    },\n    //  \n    getViewAreaInfo() {\n      let info = {}\n      if (!this.viewBox) {\n        info = {}\n      }\n      else {\n        info = this.viewBox.getElPos()\n      }\n\n      return info\n    }\n  },\n  beforeDestroy() {\n    this.dispose()\n    this.viewAreaBoxDispose()\n  },\n  watch: {\n    // \n    isLock: {\n      handler(val) {\n        this.$nextTick(() => {\n          if (!val) {\n            this.handleDraw(this.initShape)\n          }\n        })\n      },\n      immediate: true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.roi-container {\n  padding: 0 16px;\n  height: 100%;\n  position: relative;\n\n  .has-img {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    .header {\n      height: 48px;\n      background: #f5f7fa;\n      border-radius: 4px;\n      width: 100%;\n      white-space: nowrap;\n      overflow-x: auto;\n      overflow-y: hidden;\n      padding: 4px 6px;\n      position: relative;\n\n      .el-switch__core {\n        height: 16px;\n\n        &:after {\n          width: 12px;\n          height: 12px;\n        }\n      }\n\n      .el-switch.is-checked .el-switch__core::after {\n        margin-left: -12px;\n      }\n\n      .tool-item {\n        display: inline-block;\n        margin-right: 8px;\n        color: rgba(14, 27, 46, 1);\n        font-size: 12px;\n      }\n\n      .tool-item-wrapper {\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        border-radius: 4px;\n\n        .tool-icon {\n          width: 20px;\n          height: 20px;\n        }\n\n        .tool-text {\n          margin-top: 4px;\n          line-height: 1;\n        }\n\n        &:hover {\n          background: rgba(14, 27, 46, 0.05);\n        }\n        .tool-item-point-icon {\n          background: url(\"./img/point.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-polyline-icon {\n          background: url(\"./img/polyline.png\") no-repeat center\n            center;\n          background-size: contain;\n        }\n        .tool-item-area-icon {\n          background: url(\"./img/area.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-rect-icon {\n          background: url(\"./img/rect.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-changeBg-icon {\n          background: url(\"./img/change-bg.png\") no-repeat center\n            center;\n          background-size: contain;\n          filter: drop-shadow(32px 0 #252526);\n          position: relative;\n          left: -32px;\n        }\n        .tool-item-polygon-icon {\n          background: url(\"./img/polygon.png\") no-repeat center\n            center;\n          background-size: contain;\n        }\n        .tool-item-drag-icon {\n          background: url(\"./img/drag.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-shrink-icon {\n          background: url(\"./img/shrink.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-magnify-icon {\n          background: url(\"./img/magnify.png\") no-repeat center\n            center;\n          background-size: contain;\n        }\n        .tool-item-repeal-icon {\n          background: url(\"./img/repeal.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-clean-icon {\n          background: url(\"./img/clean.png\") no-repeat center center;\n          background-size: contain;\n        }\n        .tool-item-upload-icon {\n          background: url(\"./img/upload.png\") no-repeat center center;\n          background-size: contain;\n        }\n\n        &:active {\n          color: rgba(24, 114, 240, 1);\n\n          .tool-item-shrink-icon {\n            background: url(\"./img/shrink-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-magnify-icon {\n            background: url(\"./img/magnify-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-repeal-icon {\n            background: url(\"./img/repeal-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-clean-icon {\n            background: url(\"./img/clean-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-upload-icon {\n            background: url(\"./img/upload-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n        }\n        &.active {\n          .tool-item-point-icon {\n            background: url(\"./img/point-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-polyline-icon {\n            background: url(\"./img/polyline-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-area-icon,\n          .tool-item-rect-icon {\n            background: url(\"./img/rect-active.png\") no-repeat center\n              center;\n            background-size: contain;\n          }\n          .tool-item-polygon-icon {\n            background: url(\"./img/polygon-active.png\") no-repeat\n              center center;\n            background-size: contain;\n          }\n          .tool-item-drag-icon {\n            background: url(\"./img/drag-active.png\") no-repeat center\n              center;\n            background-size: contain;\n          }\n        }\n      }\n      .draw-shape .tool-item-wrapper.active,\n      .tool-item-drag .tool-item-wrapper.active {\n        .tool-text {\n          color: rgba(24, 114, 240, 1);\n        }\n      }\n\n      .tool-item-shrink {\n        margin-left: 17px;\n        position: relative;\n\n        &:before {\n          display: block;\n          content: \"\";\n          width: 1px;\n          height: 28px;\n          background: rgba(14, 27, 46, 0.1);\n          position: absolute;\n          top: 50%;\n          left: -12px;\n          transform: translateY(-50%);\n        }\n      }\n\n      .tool-item-magnify,\n      .tool-item-shrink {\n        .tool-item-wrapper {\n          width: 32px;\n          height: 32px;\n          padding: 0;\n          justify-content: center;\n        }\n      }\n      .tool-item-progressBar,\n      .tool-item-shrink {\n        margin-right: 4px;\n      }\n      .tool-item-upload {\n        //  margin-right: 13px;\n        .tool-item-wrapper {\n          width: 60px;\n        }\n      }\n\n      .el-slider {\n        width: 100px;\n\n        .el-slider__button {\n          width: 12px;\n          height: 12px;\n          background: #f5f7fa;\n          border: 2px solid #3d3e40;\n          border-radius: 100%;\n          box-sizing: border-box;\n        }\n\n        .el-slider__runway {\n          background: rgba(0, 0, 0, 0.15);\n          height: 2px;\n        }\n\n        .el-slider__runway,\n        .el-slider__bar {\n          height: 2px;\n        }\n        .el-slider__button-wrapper {\n          top: -17px;\n        }\n        .el-slider__bar {\n          background: #3d3e40;\n        }\n      }\n\n      .tool-item-upload {\n        position: absolute;\n        top: 50%;\n        right: 6px;\n        transform: translateY(-50%);\n        margin-right: 0;\n      }\n\n      .tool-item-safe {\n        position: absolute;\n        top: 50%;\n        right: 68px;\n        transform: translateY(-50%);\n\n        .el-switch {\n          margin-left: 8px;\n        }\n      }\n\n      .tool-item-area {\n        width: 32px;\n        height: 32px;\n        // position: absolute;\n        // top: 50%;\n        // right: 6px;\n        // transform: translateY(-50%);\n        // margin-right: 0;\n        // text-align: center;\n\n        .tool-item-area-icon {\n          margin: 0 auto;\n        }\n      }\n    }\n\n    .roi-img {\n      width: 100%;\n      flex: 1;\n      margin-top: 16px;\n      overflow: hidden;\n      background: linear-gradient(\n          to right,\n          rgba(14, 27, 46, 0.1) 1px,\n          transparent 1px\n        ),\n        linear-gradient(to bottom, rgba(14, 27, 46, 0.1) 1px, transparent 1px);\n      background-repeat: repeat;\n      background-size: 10px 10px;\n      border: 1px solid rgba(14, 27, 46, 1);\n\n      &.bg-white {\n        background: #fff;\n      }\n\n      &.bg-black {\n        background: #111;\n      }\n    }\n  }\n\n  .img-load-err {\n    width: 100%;\n    height: 100%;\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: contain;\n    }\n  }\n\n  .none {\n    display: none;\n  }\n}\n.el-dropdown-menu.cus-dropdown-menu-drop {\n  padding: 4px !important;\n\n  .el-dropdown-menu__item {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n\n    &:hover {\n      background: #f2f6ff;\n      border-radius: 1px;\n      font-weight: 400;\n\n      .bg-text {\n        color: #005bff;\n      }\n    }\n\n    .bg-text {\n      color: rgba(0, 0, 0, 0.85);\n    }\n\n    .bg-icon {\n      width: 16px;\n      height: 16px;\n      border: 1px solid #252526;\n      border-radius: 100%;\n      box-sizing: border-box;\n      margin-left: 21px;\n      overflow: hidden;\n    }\n\n    .bg-icon-opacity {\n      // background: linear-gradient(to right, rgba(14, 27, 46, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(14, 27, 46, 0.1) 1px, transparent 1px);\n      background: linear-gradient(\n          to right,\n          rgba(14, 27, 46, 0.1) 1px,\n          transparent 1px\n        ),\n        linear-gradient(to bottom, rgba(14, 27, 46, 0.1) 1px, transparent 1px);\n      background-repeat: repeat;\n      background-size: 3px 3px;\n      overflow: hidden;\n    }\n\n    .bg-icon-black {\n      background: black;\n    }\n\n    .bg-icon-white {\n      background: #fff;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=53163402&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default [\n  {\n      \"shape\": \"polygon\",\n      \"attrs\": {\n          \"stroke-width\": 1,\n          \"stroke\": \"rgba(255, 23, 23, 1)\"\n      },\n      \"points\": [\n          {\n              \"x\": 0.20166666666666666,\n              \"y\": 0.7066666666666667\n          },\n          {\n              \"x\": 0.43666666666666665,\n              \"y\": 0.7\n          },\n          {\n              \"x\": 0.375,\n              \"y\": 0.8983333333333333\n          },\n          {\n              \"x\": 0.22833333333333333,\n              \"y\": 0.8966666666666666\n          },\n          {\n              \"x\": 0.23166666666666666,\n              \"y\": 0.83\n          },\n          {\n              \"x\": 0.3416666666666667,\n              \"y\": 0.7916666666666666\n          }\n      ]\n  },\n  {\n      \"shape\": \"rect\",\n      \"attrs\": {\n          \"stroke-width\": 1,\n          \"stroke\": \"rgba(255, 23, 23, 1)\"\n      },\n      \"points\": [\n          {\n              \"x\": 0.5516666666666666,\n              \"y\": 0.295\n          },\n          {\n              \"x\": 0.6816666666666666,\n              \"y\": 0.295\n          },\n          {\n              \"x\": 0.5516666666666666,\n              \"y\": 0.5033333333333333\n          },\n          {\n              \"x\": 0.6816666666666666,\n              \"y\": 0.5033333333333333\n          }\n      ]\n  },\n  {\n      \"shape\": \"text\",\n      \"text\": \"\",\n      \"points\": [\n          {\n              \"x\": 0.5516666666666666,\n              \"y\": 0.295\n          },\n          {\n              \"x\": 0.6816666666666666,\n              \"y\": 0.5033333333333333\n          }\n      ],\n      \"attrs\": {\n          \"fill\": \"#ffffff\",\n          \"bgColor\": \"rgba(255, 23, 23, 1)\"\n      }\n  },\n  {\n      \"shape\": \"polyline\",\n      \"attrs\": {\n          \"stroke-width\": 1\n      },\n      \"points\": [\n          {\n              \"x\": 0.26,\n              \"y\": 0.26\n          },\n          {\n              \"x\": 0.18833333333333332,\n              \"y\": 0.4533333333333333\n          }\n      ]\n  },\n  {\n      \"shape\": \"polyline\",\n      \"attrs\": {\n          \"stroke-width\": 1\n      },\n      \"points\": [\n          {\n              \"x\": 0.135,\n              \"y\": 0.51\n          },\n          {\n              \"x\": 0.21666666666666667,\n              \"y\": 0.6133333333333333\n          }\n      ]\n  },\n  {\n      \"shape\": \"polyline\",\n      \"attrs\": {\n          \"stroke-width\": 1\n      },\n      \"points\": []\n  },\n  {\n      \"shape\": \"polyline\",\n      \"attrs\": {\n          \"stroke-width\": 1\n      },\n      \"points\": []\n  },\n  {\n      \"shape\": \"polygon\",\n      \"attrs\": {\n          \"stroke-width\": 1,\n          \"stroke\": \"rgba(255, 23, 23, 1)\"\n      },\n      \"points\": [\n          {\n              \"x\": 0.7066666666666667,\n              \"y\": 0.6533333333333333\n          },\n          {\n              \"x\": 0.5816666666666667,\n              \"y\": 0.8383333333333334\n          },\n          {\n              \"x\": 0.7616666666666667,\n              \"y\": 0.8816666666666667\n          },\n          {\n              \"x\": 0.8366666666666667,\n              \"y\": 0.7716666666666666\n          },\n          {\n              \"x\": 0.8166666666666667,\n              \"y\": 0.5483333333333333\n          },\n          {\n              \"x\": 0.745,\n              \"y\": 0.5266666666666666\n          },\n          {\n              \"x\": 0.74,\n              \"y\": 0.6133333333333333\n          }\n      ]\n  }\n]","\n<template>\n  <div id=\"app\">\n    <div class=\"test-demo-page\">\n      <div class=\"test-demo-page-content\">\n        <SvgLabel\n          :img=\"img\"\n          :is-lock=\"false\"\n          :init-data=\"initData\"\n          :upload=\"upload\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SvgLabel from '@/svg-label'\n\n// \nimport testData from './test-data'\n\nexport default{\n  name: 'App',\n  components: {\n    SvgLabel\n  },\n  data() {\n    return {\n      initData: testData,\n      img: 'https://t7.baidu.com/it/u=2531125946,3055766435&fm=193&f=GIF'\n    }\n  },\n  methods: {\n    async upload() {\n      return 'https://t7.baidu.com/it/u=4162611394,4275913936&fm=193&f=GIF'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  @import 'styles/common.scss';\n\n  #app {\n    width: 100%;\n    height: 100%;\n\n    .test-demo-page {\n      width: 100%;\n      height: 100%;\n\n      .test-demo-page-content {\n        width: 900px;\n        height: 500px;\n        margin: 0 auto;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=734cf86f&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nimport './styles/reset.css'\nVue.config.productionTip = false\n\nVue.use(ElementUI)\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/roi-404.c9301d84.png\";"],"sourceRoot":""}